[2019-07-23T00:00:21.802] [DEBUG] tradering - K线长度不足
[2019-07-23T00:01:22.060] [DEBUG] tradering - K线长度不足
[2019-07-23T00:02:22.262] [DEBUG] tradering - K线长度不足
[2019-07-23T00:03:22.530] [DEBUG] tradering - K线长度不足
[2019-07-23T00:04:22.731] [DEBUG] tradering - K线长度不足
[2019-07-23T00:05:22.992] [DEBUG] tradering - K线长度不足
[2019-07-23T00:06:23.198] [DEBUG] tradering - K线长度不足
[2019-07-23T00:07:23.460] [DEBUG] tradering - K线长度不足
[2019-07-23T00:08:23.663] [DEBUG] tradering - K线长度不足
[2019-07-23T00:09:23.944] [DEBUG] tradering - K线长度不足
[2019-07-23T00:10:24.148] [DEBUG] tradering - K线长度不足
[2019-07-23T00:11:24.412] [DEBUG] tradering - K线长度不足
[2019-07-23T00:12:24.614] [DEBUG] tradering - K线长度不足
[2019-07-23T00:13:24.870] [DEBUG] tradering - K线长度不足
[2019-07-23T00:14:25.073] [DEBUG] tradering - K线长度不足
[2019-07-23T00:15:25.330] [DEBUG] tradering - K线长度不足
[2019-07-23T00:16:25.533] [DEBUG] tradering - K线长度不足
[2019-07-23T00:17:25.790] [DEBUG] tradering - K线长度不足
[2019-07-23T00:18:26.148] [DEBUG] tradering - {
  BTC: '0.16193333',
  Asset: '-79340.656063212668',
  Profit: '375',
  ProfitDiff: '375'
}
[2019-07-23T00:19:26.265] [DEBUG] tradering - {
  BTC: '0.16193333',
  Asset: '-79186.495533052668',
  Profit: '-1502',
  ProfitDiff: '-1877'
}
[2019-07-23T00:20:26.294] [DEBUG] tradering - {
  BTC: '0.16193333',
  Asset: '-79259.851331542668',
  Profit: '-1348',
  ProfitDiff: '154'
}
[2019-07-23T00:21:26.431] [DEBUG] tradering - {
  BTC: '0.16193333',
  Asset: '-78896.149072362668',
  Profit: '-1421',
  ProfitDiff: '-73'
}
[2019-07-23T00:22:26.456] [DEBUG] tradering - {
  BTC: '0.16193333',
  Asset: '-78916.066871952668',
  Profit: '-1057',
  ProfitDiff: '364'
}
[2019-07-23T00:23:21.814] [DEBUG] tradering - Side BUY 数量  BigNumber { s: 1, e: -2, c: [ 9335300000000 ] }  Price 1134715
[2019-07-23T00:23:21.938] [DEBUG] tradering - 止盈代码有问题 StatusCodeError: 400 - "{\"status\":-205,\"error_message\":\"Margin amount is insufficient for this order.\",\"data\":null}"
    at new StatusCodeError (G:\develop\blockchain\dapps\TradingRobot\node_modules\request-promise-core\lib\errors.js:32:15)
    at Request.plumbing.callback (G:\develop\blockchain\dapps\TradingRobot\node_modules\request-promise-core\lib\plumbing.js:104:33)
    at Request.RP$callback [as _callback] (G:\develop\blockchain\dapps\TradingRobot\node_modules\request-promise-core\lib\plumbing.js:46:31)
    at Request.self.callback (G:\develop\blockchain\dapps\TradingRobot\node_modules\request\request.js:185:22)
    at Request.emit (events.js:196:13)
    at Request.<anonymous> (G:\develop\blockchain\dapps\TradingRobot\node_modules\request\request.js:1161:10)
    at Request.emit (events.js:196:13)
    at IncomingMessage.<anonymous> (G:\develop\blockchain\dapps\TradingRobot\node_modules\request\request.js:1083:12)
    at Object.onceWrapper (events.js:284:20)
    at IncomingMessage.emit (events.js:201:15)
    at endReadableNT (_stream_readable.js:1130:12)
    at processTicksAndRejections (internal/process/task_queues.js:84:9) {
  name: 'StatusCodeError',
  statusCode: 400,
  message: '400 - "{\\"status\\":-205,\\"error_message\\":\\"Margin ' +
    'amount is insufficient for this ' +
    'order.\\",\\"data\\":null}"',
  error: '{"status":-205,"error_message":"Margin amount ' +
    'is insufficient for this order.","data":null}',
  options: {
    url: 'https://api.bitflyer.com/v1/me/sendchildorder',
    method: 'POST',
    body: '{"product_code":"FX_BTC_JPY","child_order_type":"LIMIT","side":"BUY","price":1134715,"size":"0.093353","minute_to_expire":10000,"time_in_force":"GTC"}',
    headers: {
      'ACCESS-KEY': '4z1Hg1tWmRna6CHVk8ZSm6',
      'ACCESS-TIMESTAMP': '1563809001816',
      'ACCESS-SIGN': '049027b53f8277db7ed3d808d35d3ad76e105b3dd41a369b80092993ff5aee5e',
      'Content-Type': 'application/json'
    },
    callback: [Function: RP$callback],
    transform: undefined,
    simple: true,
    resolveWithFullResponse: false,
    transform2xxOnly: false
  },
  response: IncomingMessage {
    _readableState: ReadableState {
      objectMode: false,
      highWaterMark: 16384,
      buffer: BufferList { head: null, tail: null, length: 0 },
      length: 0,
      pipes: null,
      pipesCount: 0,
      flowing: true,
      ended: true,
      endEmitted: true,
      reading: false,
      sync: false,
      needReadable: false,
      emittedReadable: false,
      readableListening: false,
      resumeScheduled: false,
      paused: false,
      emitClose: true,
      autoDestroy: false,
      destroyed: false,
      defaultEncoding: 'utf8',
      awaitDrain: 0,
      readingMore: false,
      decoder: null,
      encoding: null
    },
    readable: false,
    _events: [Object: null prototype] {
      end: [Array],
      close: [Array],
      data: [Function],
      error: [Function]
    },
    _eventsCount: 4,
    _maxListeners: undefined,
    socket: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      _SNICallback: null,
      servername: 'api.bitflyer.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'api.bitflyer.com',
      _readableState: [ReadableState],
      readable: true,
      _maxListeners: undefined,
      _writableState: [WritableState],
      writable: false,
      allowHalfOpen: false,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      parser: null,
      _httpMessage: [ClientRequest],
      [Symbol(res)]: [TLSWrap],
      [Symbol(asyncId)]: 334165,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: null,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    connection: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      _SNICallback: null,
      servername: 'api.bitflyer.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'api.bitflyer.com',
      _readableState: [ReadableState],
      readable: true,
      _maxListeners: undefined,
      _writableState: [WritableState],
      writable: false,
      allowHalfOpen: false,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      parser: null,
      _httpMessage: [ClientRequest],
      [Symbol(res)]: [TLSWrap],
      [Symbol(asyncId)]: 334165,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: null,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    httpVersionMajor: 1,
    httpVersionMinor: 1,
    httpVersion: '1.1',
    complete: true,
    headers: {
      'cache-control': 'no-cache',
      pragma: 'no-cache',
      'content-length': '91',
      'content-type': 'application/json; charset=utf-8',
      expires: '-1',
      server: 'Microsoft-IIS/10.0',
      'x-ratelimit-period': '5',
      'x-ratelimit-remaining': '489',
      'x-ratelimit-reset': '1563809007',
      'request-context': 'appId=cid-v1:edafd9df-f22e-4349-b71f-1c468550add5',
      'x-content-type-options': 'nosniff',
      'x-xss-protection': '1; mode=block',
      'x-frame-options': 'sameorigin',
      'content-security-policy': "default-src http: https: ws: wss: data: 'unsafe-inline' 'unsafe-eval'",
      'strict-transport-security': 'max-age=31536000',
      date: 'Mon, 22 Jul 2019 15:23:22 GMT',
      connection: 'close'
    },
    rawHeaders: [
      'Cache-Control',
      'no-cache',
      'Pragma',
      'no-cache',
      'Content-Length',
      '91',
      'Content-Type',
      'application/json; charset=utf-8',
      'Expires',
      '-1',
      'Server',
      'Microsoft-IIS/10.0',
      'X-RateLimit-Period',
      '5',
      'X-RateLimit-Remaining',
      '489',
      'X-RateLimit-Reset',
      '1563809007',
      'Request-Context',
      'appId=cid-v1:edafd9df-f22e-4349-b71f-1c468550add5',
      'X-Content-Type-Options',
      'nosniff',
      'X-XSS-Protection',
      '1; mode=block',
      'X-Frame-Options',
      'sameorigin',
      'Content-Security-Policy',
      "default-src http: https: ws: wss: data: 'unsafe-inline' 'unsafe-eval'",
      'Strict-Transport-Security',
      'max-age=31536000',
      'Date',
      'Mon, 22 Jul 2019 15:23:22 GMT',
      'Connection',
      'close'
    ],
    trailers: {},
    rawTrailers: [],
    aborted: false,
    upgrade: false,
    url: '',
    method: null,
    statusCode: 400,
    statusMessage: 'Bad Request',
    client: TLSSocket {
      _tlsOptions: [Object],
      _secureEstablished: true,
      _securePending: false,
      _newSessionPending: false,
      _controlReleased: true,
      _SNICallback: null,
      servername: 'api.bitflyer.com',
      alpnProtocol: false,
      authorized: true,
      authorizationError: null,
      encrypted: true,
      _events: [Object],
      _eventsCount: 9,
      connecting: false,
      _hadError: false,
      _parent: null,
      _host: 'api.bitflyer.com',
      _readableState: [ReadableState],
      readable: true,
      _maxListeners: undefined,
      _writableState: [WritableState],
      writable: false,
      allowHalfOpen: false,
      _sockname: null,
      _pendingData: null,
      _pendingEncoding: '',
      server: undefined,
      _server: null,
      ssl: [TLSWrap],
      _requestCert: true,
      _rejectUnauthorized: true,
      parser: null,
      _httpMessage: [ClientRequest],
      [Symbol(res)]: [TLSWrap],
      [Symbol(asyncId)]: 334165,
      [Symbol(kHandle)]: [TLSWrap],
      [Symbol(lastWriteQueueSize)]: 0,
      [Symbol(timeout)]: null,
      [Symbol(kBytesRead)]: 0,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(connect-options)]: [Object]
    },
    _consuming: true,
    _dumped: false,
    req: ClientRequest {
      _events: [Object],
      _eventsCount: 5,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      _last: true,
      chunkedEncoding: false,
      shouldKeepAlive: false,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      _contentLength: null,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      socket: [TLSSocket],
      connection: [TLSSocket],
      _header: 'POST /v1/me/sendchildorder HTTP/1.1\r' +
        '\nACCESS-KEY: 4z1Hg1tWmRna6CHVk8ZSm6\r' +
        '\nACCESS-TIMESTAMP: 1563809001816\r' +
        '\nACCESS-SIGN: ' +
        '049027b53f8277db7ed3d808d35d3ad76e105b3dd41a369b80092993ff5aee5e\r' +
        '\nContent-Type: application/json\r' +
        '\nhost: api.bitflyer.com\r' +
        '\ncontent-length: 150\r' +
        '\nConnection: close\r' +
        '\n\r' +
        '\n',
      _onPendingData: [Function: noopPendingOutput],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      path: '/v1/me/sendchildorder',
      _ended: true,
      res: [Circular],
      aborted: false,
      timeoutCb: null,
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      [Symbol(isCorked)]: false,
      [Symbol(outHeadersKey)]: [Object]
    },
    request: Request {
      _events: [Object],
      _eventsCount: 5,
      _maxListeners: undefined,
      method: 'POST',
      body: '{"product_code":"FX_BTC_JPY","child_order_type":"LIMIT","side":"BUY","price":1134715,"size":"0.093353","minute_to_expire":10000,"time_in_force":"GTC"}',
      headers: [Object],
      callback: [Function],
      readable: true,
      writable: true,
      explicitMethod: true,
      _qs: [Querystring],
      _auth: [Auth],
      _oauth: [OAuth],
      _multipart: [Multipart],
      _redirect: [Redirect],
      _tunnel: [Tunnel],
      _rp_resolve: [Function],
      _rp_reject: [Function],
      _rp_promise: [Promise],
      _rp_callbackOrig: [Function],
      _rp_options: [Object],
      setHeader: [Function],
      hasHeader: [Function],
      getHeader: [Function],
      removeHeader: [Function],
      localAddress: undefined,
      pool: {},
      dests: [],
      __isRequestRequest: true,
      _callback: [Function: RP$callback],
      uri: [Url],
      proxy: null,
      tunnel: true,
      setHost: true,
      originalCookieHeader: undefined,
      _disableCookies: true,
      _jar: undefined,
      port: 443,
      host: 'api.bitflyer.com',
      path: '/v1/me/sendchildorder',
      httpModule: [Object],
      agentClass: [Function: Agent],
      agent: [Agent],
      _started: true,
      href: 'https://api.bitflyer.com/v1/me/sendchildorder',
      req: [ClientRequest],
      ntick: true,
      response: [Circular],
      originalHost: 'api.bitflyer.com',
      originalHostHeaderName: 'host',
      responseContent: [Circular],
      _destdata: true,
      _ended: true,
      _callbackCalled: true
    },
    toJSON: [Function: responseToJSON],
    caseless: Caseless { dict: [Object] },
    body: '{"status":-205,"error_message":"Margin amount ' +
      'is insufficient for this order.","data":null}'
  }
}
